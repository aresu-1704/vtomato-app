# ğŸ… á»¨NG Dá»¤NG NHáº¬N DIá»†N Bá»†NH TRÃŠN CÃ‚Y CÃ€ CHUA Báº°NG HÃŒNH áº¢NH (á»¨NG Dá»¤NG Máº NG Há»ŒC SÃ‚U YOLOv12)

á»¨ng dá»¥ng nháº­n diá»‡n bá»‡nh cÃ¢y cÃ  chua Ä‘Æ°á»£c xÃ¢y dá»±ng báº±ng Flutter, káº¿t ná»‘i vá»›i backend YOLOv12 Nano (FastAPI) Ä‘á»ƒ quÃ©t áº£nh lÃ¡ cÃ¢y vÃ  dá»± Ä‘oÃ¡n bá»‡nh.

## ğŸ“Œ MÃ´ táº£

Há»‡ thá»‘ng nháº­n diá»‡n bá»‡nh trÃªn cÃ¢y cÃ  chua gá»“m **2 thÃ nh pháº§n chÃ­nh**:

- ğŸ“± **á»¨ng dá»¥ng di Ä‘á»™ng Flutter (Frontend):**  
  GiÃºp ngÆ°á»i dÃ¹ng dá»… dÃ ng chá»¥p áº£nh lÃ¡ cÃ¢y, gá»­i áº£nh lÃªn server vÃ  hiá»ƒn thá»‹ káº¿t quáº£ dá»± Ä‘oÃ¡n. Giao diá»‡n thÃ¢n thiá»‡n, dá»… sá»­ dá»¥ng cho cáº£ nÃ´ng dÃ¢n vÃ  ká»¹ thuáº­t viÃªn.

- ğŸ§  **Há»‡ thá»‘ng phÃ¢n tÃ­ch bá»‡nh (Backend - FastAPI + YOLOv12 Nano):**  
  Nháº­n áº£nh tá»« ngÆ°á»i dÃ¹ng, cháº¡y mÃ´ hÃ¬nh há»c sÃ¢u (YOLOv12 Nano) Ä‘á»ƒ xÃ¡c Ä‘á»‹nh lÃ¡ bá»‡nh vÃ  phÃ¢n loáº¡i loáº¡i bá»‡nh (má»‘c sÆ°Æ¡ng, xoÄƒn lÃ¡, Ä‘á»‘m vi khuáº©n, v.v.).

### âœ… CÃ¡c tÃ­nh nÄƒng ná»•i báº­t:

- **Chá»¥p áº£nh hoáº·c chá»n áº£nh lÃ¡ cÃ¢y tá»« thÆ° viá»‡n.**
- **Tá»± Ä‘á»™ng khoanh vÃ¹ng vÃ¹ng bá»‡nh báº±ng mÃ´ hÃ¬nh YOLOv12.**
- **Dá»± Ä‘oÃ¡n loáº¡i bá»‡nh chÃ­nh xÃ¡c báº±ng AI.**
- **Hiá»ƒn thá»‹ káº¿t quáº£ trá»±c quan vÃ  dá»… hiá»ƒu.**
- **LÆ°u lá»‹ch sá»­ áº£nh.**

### ğŸ¯ Má»¥c tiÃªu dá»± Ã¡n:

Há»— trá»£ nÃ´ng dÃ¢n vÃ  ká»¹ thuáº­t viÃªn nÃ´ng nghiá»‡p **phÃ¡t hiá»‡n sá»›m** vÃ  **xá»­ lÃ½ ká»‹p thá»i** cÃ¡c loáº¡i bá»‡nh thÆ°á»ng gáº·p trÃªn cÃ¢y cÃ  chua, giÃºp **giáº£m thiá»ƒu thiá»‡t háº¡i mÃ¹a vá»¥**, tÄƒng hiá»‡u quáº£ sáº£n xuáº¥t.

## ğŸ¤– MÃ´ hÃ¬nh máº¡ng há»c sÃ¢u:

---

# ğŸŒ± Tá»”NG QUAN Táº¬P Dá»® LIá»†U

MÃ´ hÃ¬nh máº¡ng há»c sÃ¢u Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn 1 táº­p dá»¯ liá»‡u vá» **8 bá»‡nh** trÃªn cÃ¢y **CÃ  chua** phá»• biáº¿n táº¡i Viá»‡t Nam gá»“m 4000 áº£nh Ä‘Æ°á»£c gÃ¡n nhÃ£n.

## ğŸ“Š SÆ¡ Ä‘á»“ phÃ¢n bá»‘ nhÃ£n

<p align="center">
  <img src="images/Dataset/classdistibution.jpg" width="2000"/>
</p>

## ğŸ–¼ï¸ áº¢nh máº«u

<p align="center">
  <img src="images/Dataset/labelexample.jpg" width="800"/>
</p>

---

# ğŸŒŸ ÄÃNH GIÃ MÃ” HÃŒNH YOLOv12 NANO CHO BÃ€I TOÃN

ÄÃ¡nh giÃ¡ mÃ´ hÃ¬nh máº¡ng há»c sÃ¢u YOLOv12 sau 200 Epoch huáº¥n luyá»‡n.

## ğŸ“ˆ Biá»ƒu Ä‘á»“ Loss qua cÃ¡c Epoch huáº¥n luyá»‡n

<p align="center">
  <img src="images/Charts/trainandvalidloss.jpg" width="800"/>
</p>

## ğŸ“ˆ Biá»ƒu Ä‘á»“ Ä‘Ã¡nh giÃ¡ Metrics qua cÃ¡c Epoch huáº¥n luyá»‡n

<p align="center">
  <img src="images/Charts/evaluatedmetrics.jpg" width="800"/>
</p>

## ğŸ“ˆ Biá»ƒu Ä‘á»“ Ä‘Ã¡nh giÃ¡ cÃ¡c lá»›p trÃªn táº­p Test sau khi huáº¥n luyá»‡n

<p align="center">
  <img src="images/Charts/evaluatedclass.jpg" width="600"/>
</p>

## ğŸ“ˆ Biá»ƒu Ä‘á»“ Ä‘Ã¡nh giÃ¡ Metrics trÃªn táº­p test sau khi huáº¥n luyá»‡n

<p align="center">
  <img src="images/Charts/evaluatedmetricstest.jpg" width="300"/>
</p>

---

### ğŸ§± Kiáº¿n trÃºc há»‡ thá»‘ng:

---

# ğŸ› ï¸ BACKEND FASTAPI - YOLOv12 Nano (Backend)

ÄÃ¢y lÃ  backend API Ä‘Æ°á»£c xÃ¢y dá»±ng báº±ng [FastAPI](https://fastapi.tiangolo.com/) cho há»‡ thá»‘ng **Nháº­n diá»‡n bá»‡nh cÃ¢y CÃ  Chua** báº±ng mÃ´ hÃ¬nh **YOLOv12 Nano**.

## ğŸš€ TÃ­nh nÄƒng chÃ­nh

### ğŸ” Authentication
- `POST /auth/login`: ÄÄƒng nháº­p
- `POST /auth/register`: ÄÄƒng kÃ½ tÃ i khoáº£n
- `POST /auth/reset-password`: Äáº·t láº¡i máº­t kháº©u
- `POST /auth/send-otp`: Gá»­i mÃ£ OTP
- `POST /auth/verify-otp`: XÃ¡c minh mÃ£ OTP

### ğŸ”¬ Dá»± Ä‘oÃ¡n bá»‡nh cÃ¢y cÃ  chua
- `POST /predict/predict-image`: Táº£i áº£nh lÃªn Ä‘á»ƒ dá»± Ä‘oÃ¡n bá»‡nh lÃ¡ cÃ  chua

### ğŸ§¾ Lá»‹ch sá»­ dá»± Ä‘oÃ¡n
- `POST /disease-history/save`: LÆ°u láº¡i lá»‹ch sá»­ dá»± Ä‘oÃ¡n bá»‡nh
- `GET /disease-history/get-by-id/{user_id}`: Láº¥y lá»‹ch sá»­ dá»± Ä‘oÃ¡n theo `user_id`

---

## ğŸ§  MÃ´ hÃ¬nh sá»­ dá»¥ng
- **YOLOv12 Nano**: phÃ¡t hiá»‡n lÃ¡ bá»‹ bá»‡nh cÃ¢y cÃ  chua (bounding box)
- Sau khi cáº¯t vÃ¹ng chá»©a lÃ¡ bá»‡nh, sá»­ dá»¥ng CNN Ä‘á»ƒ phÃ¢n loáº¡i loáº¡i bá»‡nh cá»¥ thá»ƒ

---

## ğŸ§° CÃ´ng nghá»‡
- `FastAPI` â€“ backend framework
- `YOLOv12 Nano` â€“ phÃ¡t hiá»‡n lÃ¡ bá»‡nh
- `CNN` â€“ phÃ¢n loáº¡i bá»‡nh
- `Pydantic`, `Uvicorn`, `PostgreSQL`

---

## ğŸ“¦ CÃ i Ä‘áº·t Backend

### âš™ï¸ YÃªu cáº§u:
- Python 3.11+
- pip

### ğŸ§ª CÃ¡c bÆ°á»›c setup:

```bash

# Clone repo
git clone https://github.com/aresu-1704/tomato-disease-detect.git
cd tomato-disease-detect/backend

# Táº¡o mÃ´i trÆ°á»ng áº£o
python -m venv venv
source venv/bin/activate  # Windows: .\venv\Scripts\activate

# CÃ i Ä‘áº·t thÆ° viá»‡n
pip install -r requirements.txt

# Cháº¡y server
uvicorn main:app --reload
```
---

## ğŸ—ƒï¸ CÃ i Ä‘áº·t CÆ¡ sá»Ÿ Dá»¯ liá»‡u

### âš™ï¸ YÃªu cáº§u:
- PostgreSQL

### ğŸ§ª CÃ¡c bÆ°á»›c setup:

```bash

#Cháº¡y Script database
psql -U your_postgres_user -d your_database_name -f .DATABASE_SCHEMAS/postgreSQL_database.sql
```

## **âš ï¸ LÆ°u Ã½:**

- Äáº£m báº£o báº¡n Ä‘Ã£ cÃ i Ä‘áº·t PostgreSQL vÃ  Ä‘Ã£ táº¡o má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u trá»‘ng.

- Thay your_postgres_user báº±ng tÃªn ngÆ°á»i dÃ¹ng PostgreSQL cá»§a báº¡n.

- Thay your_database_name báº±ng tÃªn cÆ¡ sá»Ÿ dá»¯ liá»‡u mÃ  báº¡n muá»‘n sá»­ dá»¥ng.

---

## ğŸ“¡ Giao diá»‡n API (Swagger UI)
<p align="center">
  <img src="images/API/api.jpg" width="800"/>
</p>

---

# ğŸ“± Flutter App (Frontend)

á»¨ng dá»¥ng nháº­n diá»‡n bá»‡nh cÃ¢y cÃ  chua Ä‘Æ°á»£c xÃ¢y dá»±ng báº±ng Flutter, káº¿t ná»‘i vá»›i backend YOLOv12 Nano (FastAPI) Ä‘á»ƒ quÃ©t áº£nh lÃ¡ cÃ¢y vÃ  dá»± Ä‘oÃ¡n bá»‡nh.

## ğŸ“Œ MÃ´ táº£

á»¨ng dá»¥ng frontend nÃ y Ä‘Æ°á»£c xÃ¢y dá»±ng báº±ng Flutter Ä‘á»ƒ cung cáº¥p giao diá»‡n ngÆ°á»i dÃ¹ng, cho phÃ©p ngÆ°á»i dÃ¹ng:
- ÄÄƒng nháº­p, Ä‘Äƒng kÃ½ vÃ  khÃ´i phá»¥c máº­t kháº©u.
- Chá»¥p áº£nh lÃ¡ cÃ¢y vÃ  gá»­i áº£nh Ä‘áº¿n backend Ä‘á»ƒ nháº­n diá»‡n bá»‡nh.
- Xem lá»‹ch sá»­ cÃ¡c láº§n phÃ¡t hiá»‡n bá»‡nh.

á»¨ng dá»¥ng nÃ y káº¿t ná»‘i vá»›i backend sá»­ dá»¥ng FastAPI vÃ  YOLOv12 Nano Ä‘á»ƒ xá»­ lÃ½ áº£nh vÃ  tráº£ vá» káº¿t quáº£ dá»± Ä‘oÃ¡n bá»‡nh cÃ¢y cÃ  chua.

## ğŸš€ CÃ¡c tÃ­nh nÄƒng chÃ­nh

- **ğŸ”’ ÄÄƒng nháº­p & ÄÄƒng kÃ½:** NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ Ä‘Äƒng nháº­p vÃ o á»©ng dá»¥ng hoáº·c táº¡o tÃ i khoáº£n má»›i.
- **ğŸ”‘ KhÃ´i phá»¥c máº­t kháº©u:** TÃ­nh nÄƒng cho phÃ©p ngÆ°á»i dÃ¹ng khÃ´i phá»¥c máº­t kháº©u cá»§a mÃ¬nh qua email.
- **ğŸ“¸ Chá»¥p áº£nh lÃ¡ cÃ¢y:** NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ chá»¥p áº£nh lÃ¡ cÃ¢y cÃ  chua báº±ng camera.
- **ğŸ§  Nháº­n diá»‡n bá»‡nh cÃ¢y:** áº¢nh sáº½ Ä‘Æ°á»£c gá»­i Ä‘áº¿n backend vÃ  nháº­n káº¿t quáº£ dá»± Ä‘oÃ¡n bá»‡nh cÃ¢y.
- **ğŸ“œ Xem lá»‹ch sá»­ phÃ¡t hiá»‡n bá»‡nh:** NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ xem láº¡i lá»‹ch sá»­ cÃ¡c láº§n phÃ¡t hiá»‡n bá»‡nh tá»« trÆ°á»›c.

---

## ğŸ›  CÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh

### YÃªu cáº§u

- Flutter SDK (phiÃªn báº£n má»›i nháº¥t)
- Dart SDK
- TrÃ¬nh giáº£ láº­p Android hoáº·c thiáº¿t bá»‹ thá»±c Ä‘á»ƒ cháº¡y á»©ng dá»¥ng.

### CÃ i Ä‘áº·t

1. Clone repository frontend:

   ```bash
   #Clone repo
   git clone https://github.com/aresu-1704/tomato-disease-detect.git
   
   #Chuyá»ƒn vÃ o thÆ° má»¥c dá»± Ã¡n
   cd tomato-disease-detect/frontend
   
   #CÃ i Ä‘áº·t cÃ¡c phá»¥ thuá»™c
   flutter pub get
   ```
2. Cáº¥u hÃ¬nh API:

Cáº¥u hÃ¬nh API url trong `lib/constants/api_constant.dart`:

   ```bash
      #Cáº¥u hÃ¬nh URL API backend
      static const String baseUrl = <YOUR_API_URL>;
   ```


### ğŸ–¼ï¸ HÃ¬nh áº£nh giao diá»‡n á»©ng dá»¥ng

#### ğŸ” XÃ¡c thá»±c ngÆ°á»i dÃ¹ng
<p align="center">
  <img src="images/UI/login.jpg" width="150"/>
  <img src="images/UI/register.jpg" width="150"/>
  <img src="images/UI/forgot-password.jpg" width="150"/>
  <img src="images/UI/verify-otp.jpg" width="150"/>
  <img src="images/UI/reset-password.jpg" width="150"/>
</p>

---

#### ğŸŒ¿ Nháº­n diá»‡n bá»‡nh cÃ¢y
<p align="center">
  <img src="images/UI/camera-upload.jpg" width="300"/>
  <img src="images/UI/predict-result.jpg" width="300"/>
</p>

---

#### ğŸ“œ Lá»‹ch sá»­ & chi tiáº¿t dá»± Ä‘oÃ¡n
<p align="center">
  <img src="images/UI/history.jpg" width="300"/>
</p>

---




